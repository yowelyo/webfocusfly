<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Focus Flight (Web) — Simulador de estudio</title>
    <meta name="description" content="Simulador de vuelo para estudio enfocado: mapa, temporizador, ruido blanco." />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-VuZ8H0tBTQbYQFZ0Yp3LzWJM9Yuk3F7hZ8V4Jv0vP7k="
      crossorigin=""
    />

    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Setup View -->
      <section id="view-setup" class="view visible">
        <div class="shell">
          <header class="app-header">
            <div class="brand">
              <span class="logo">✈︎</span>
              <h1>Focus Flight</h1>
            </div>
            <p class="tagline">Estudia como si volaras. Minimal, inmersivo y relajante.</p>
          </header>

          <div class="card setup-card">
            <div class="field-group">
              <label>1) Aeropuerto de salida</label>
              <div class="inline">
                <button id="btn-pick-departure" class="picker">Elegir aeropuerto en el mapa</button>
                <div id="selected-departure" class="selection-tag">No seleccionado</div>
              </div>
            </div>

            <div class="field-group">
              <label>2) Duración del vuelo (estudio)</label>
              <select id="select-duration">
                <option value="25">25 min (Pomodoro)</option>
                <option value="45">45 min</option>
                <option value="60" selected>60 min</option>
                <option value="90">90 min</option>
                <option value="120">120 min</option>
              </select>
            </div>

            <div class="field-group">
              <label>3) Opciones de destino sugeridas (según salida y duración)</label>
              <div id="dest-suggestions" class="suggestions-grid"></div>
              <small class="helper">Elige un destino sugerido; cambia la duración para ver otras opciones.</small>
            </div>

            <div class="actions">
              <button id="btn-generate" class="primary" disabled>Generar tarjeta de embarque</button>
            </div>
          </div>

          <footer class="app-footer">
            <span>Sin registro. Todo en tu navegador.</span>
          </footer>
        </div>
      </section>

      <!-- Airport Picker Overlay -->
      <section id="airport-picker" class="overlay" aria-hidden="true">
        <div class="overlay-content">
          <div class="overlay-header">
            <h2>Elige aeropuerto de salida</h2>
            <button id="ap-close" class="ghost">Cerrar</button>
          </div>
          <div class="overlay-body">
            <div id="airport-map"></div>
          </div>
          <div class="overlay-footer">
            <div class="overlay-selection" id="ap-selection">No seleccionado</div>
            <div class="spacer"></div>
            <button id="ap-cancel" class="ghost">Cancelar</button>
            <button id="ap-confirm" class="primary" disabled>Confirmar</button>
          </div>
        </div>
      </section>

      <!-- Boarding Pass View -->
      <section id="view-boarding" class="view">
        <div class="shell">
          <div class="card boarding-card">
            <div class="boarding-top">
              <div class="boarding-airports">
                <div>
                  <span class="label">Salida</span>
                  <div class="value" id="bp-departure">—</div>
                </div>
                <div class="plane-sep">✈︎</div>
                <div>
                  <span class="label">Destino</span>
                  <div class="value" id="bp-destination">—</div>
                </div>
              </div>
              <div class="boarding-meta">
                <div>
                  <span class="label">Duración</span>
                  <div class="value" id="bp-duration">—</div>
                </div>
              </div>
            </div>
            <div class="boarding-actions">
              <button id="btn-edit" class="ghost">Editar</button>
              <button id="btn-board" class="primary">Embarcar</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Flight View -->
      <section id="view-flight" class="view">
        <div id="map"></div>

        <div class="hud">
          <div class="hud-left">
            <div class="timer">
              <span class="label">Tiempo restante</span>
              <span class="time" id="timer-display">00:00:00</span>
            </div>
            <div class="progress" aria-hidden="true"><div id="progress-bar" class="bar"></div></div>
            <div class="hud-actions">
              <button id="btn-pause" class="ghost">Pausar</button>
              <button id="btn-cancel" class="ghost">Cancelar</button>
            </div>
          </div>
          <div class="hud-right">
            <div class="audio-controls">
              <label><input type="checkbox" id="toggle-white-noise" /> Ruido blanco</label>
              <label><input type="checkbox" id="toggle-engine" /> Motor</label>
              <label class="volume">
                Volumen
                <input type="range" id="volume" min="0" max="1" step="0.01" value="0.25" />
              </label>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-o9N1j7kGIC3s3zCQK6Y7LQdKc2VJ8gkHf3g2fW4f94E="
      crossorigin=""
    ></script>

    <script type="module" src="./app.js"></script>
  </body>
</html>
